<!-- Elements added to main will be displayed on all pages --> <!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Documentation pages for the OMC Team at CERN. Content includes documentation on our activities, workflows and software as well as resources for members."><meta name=author content=PyLHC/OMC-Team><link href=https://pylhc.github.io/packages/development/howto_venv/ rel=canonical><link rel=icon href=../../../assets/logos/OMC_logo_inverse.svg><meta name=generator content="mkdocs-1.2.2, mkdocs-material-7.2.2"><title>Virtual Environments - OMC Documentation</title><link rel=stylesheet href=../../../assets/stylesheets/main.1118c9be.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.ba0d045b.min.css><meta name=theme-color content=#4051b5><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback"><style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style><link rel=stylesheet href=../../../css/extra.css><meta name=google-site-verification content=NITofpPvpKgveUUE2aw1Dfpe984Cq24P302pI0P2mqo><meta name=keywords content="omc, omc3, wiki, cern, how-to, optics, resources, accelerator, pylhc, lhc, hl-lhc, submitter, htcondor, python"></head> <body dir=ltr data-md-color-scheme=preference data-md-color-primary=indigo data-md-color-accent=amber> <script>function __prefix(e){return new URL("../../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#creating-and-using-python-virtual-environments class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../.. title="OMC Documentation" class="md-header__button md-logo" aria-label="OMC Documentation" data-md-component=logo> <img src=../../../assets/logos/OMC_logo_inverse.svg alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> OMC Documentation </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Virtual Environments </span> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/pylhc/ title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> PyLHC </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../../../omc_team/about/ class=md-tabs__link> The OMC Team </a> </li> <li class=md-tabs__item> <a href=../../about/ class="md-tabs__link md-tabs__link--active"> Python Ecosystem </a> </li> <li class=md-tabs__item> <a href=../../../guis/about/ class=md-tabs__link> The OMC GUIs </a> </li> <li class=md-tabs__item> <a href=../../../procedures/info/ class=md-tabs__link> Procedures </a> </li> <li class=md-tabs__item> <a href=../../../resources/links/ class=md-tabs__link> Resources </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../.. title="OMC Documentation" class="md-nav__button md-logo" aria-label="OMC Documentation" data-md-component=logo> <img src=../../../assets/logos/OMC_logo_inverse.svg alt=logo> </a> OMC Documentation </label> <div class=md-nav__source> <a href=https://github.com/pylhc/ title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> PyLHC </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../.. class=md-nav__link> Home </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2 type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2> The OMC Team <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="The OMC Team" data-md-level=1> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> The OMC Team </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../omc_team/about/ class=md-nav__link> About </a> </li> <li class=md-nav__item> <a href=../../../omc_team/ideas/ class=md-nav__link> Future MD Ideas </a> </li> <li class=md-nav__item> <a href=../../../omc_team/physics/ class=md-nav__link> Physics of OMC </a> </li> <li class=md-nav__item> <a href=../../../omc_team/methods/ class=md-nav__link> OMC Methods </a> </li> <li class=md-nav__item> <a href=../../../omc_team/publications/ class=md-nav__link> Publications </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3 type=checkbox id=__nav_3 checked> <label class=md-nav__link for=__nav_3> Python Ecosystem <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Python Ecosystem" data-md-level=1> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Python Ecosystem </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../about/ class=md-nav__link> About </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_2 type=checkbox id=__nav_3_2> <label class=md-nav__link for=__nav_3_2> omc3 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=omc3 data-md-level=2> <label class=md-nav__title for=__nav_3_2> <span class="md-nav__icon md-icon"></span> omc3 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../omc3/about/ class=md-nav__link> About omc3 </a> </li> <li class=md-nav__item> <a href=../../omc3/getting_started/ class=md-nav__link> Getting Started </a> </li> <li class=md-nav__item> <a href=../../omc3/analysis/ class=md-nav__link> Analysis </a> </li> <li class=md-nav__item> <a href=../../omc3/know_how/ class=md-nav__link> Know-How </a> </li> <li class=md-nav__item> <a href=https://github.com/pylhc/omc3 class=md-nav__link> ↪ On Github </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_3 type=checkbox id=__nav_3_3> <label class=md-nav__link for=__nav_3_3> PyLHC <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=PyLHC data-md-level=2> <label class=md-nav__title for=__nav_3_3> <span class="md-nav__icon md-icon"></span> PyLHC </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../pylhc/about/ class=md-nav__link> About </a> </li> <li class=md-nav__item> <a href=../../pylhc/forced_da/ class=md-nav__link> Forced DA Analysis </a> </li> <li class=md-nav__item> <a href=../../pylhc/machine_settings_info/ class=md-nav__link> Machine Settings Info </a> </li> <li class=md-nav__item> <a href=../../pylhc/bsrt/ class=md-nav__link> BSRT Logger/Analysis </a> </li> <li class=md-nav__item> <a href=https://github.com/pylhc/PyLHC class=md-nav__link> ↪ On Github </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_4 type=checkbox id=__nav_3_4> <label class=md-nav__link for=__nav_3_4> PyLHC-Submitter <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=PyLHC-Submitter data-md-level=2> <label class=md-nav__title for=__nav_3_4> <span class="md-nav__icon md-icon"></span> PyLHC-Submitter </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../pylhcsubmitter/about/ class=md-nav__link> About </a> </li> <li class=md-nav__item> <a href=../../pylhcsubmitter/job_submitter/ class=md-nav__link> Job Submitter </a> </li> <li class=md-nav__item> <a href=../../pylhcsubmitter/autosix/ class=md-nav__link> AutoSix </a> </li> <li class=md-nav__item> <a href=https://github.com/pylhc/submitter class=md-nav__link> ↪ On Github </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_5 type=checkbox id=__nav_3_5> <label class=md-nav__link for=__nav_3_5> MESS <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=MESS data-md-level=2> <label class=md-nav__title for=__nav_3_5> <span class="md-nav__icon md-icon"></span> MESS </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../mess/about/ class=md-nav__link> About </a> </li> <li class=md-nav__item> <a href=https://github.com/pylhc/MESS class=md-nav__link> ↪ On Github </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_6 type=checkbox id=__nav_3_6> <label class=md-nav__link for=__nav_3_6> Links to other Packages <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Links to other Packages" data-md-level=2> <label class=md-nav__title for=__nav_3_6> <span class="md-nav__icon md-icon"></span> Links to other Packages </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=https://github.com/pylhc/optics_functions class=md-nav__link> ↪ optics-functions </a> </li> <li class=md-nav__item> <a href=https://github.com/pylhc/Beta-Beat.src class=md-nav__link> ↪ Beta-Beat.src </a> </li> <li class=md-nav__item> <a href=https://github.com/pylhc/tfs class=md-nav__link> ↪ tfs-pandas </a> </li> <li class=md-nav__item> <a href=https://github.com/pylhc/sdds class=md-nav__link> ↪ sdds </a> </li> <li class=md-nav__item> <a href=https://github.com/pylhc/generic_parser class=md-nav__link> ↪ generic-parser </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_7 type=checkbox id=__nav_3_7 checked> <label class=md-nav__link for=__nav_3_7> Python Development <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Python Development" data-md-level=2> <label class=md-nav__title for=__nav_3_7> <span class="md-nav__icon md-icon"></span> Python Development </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../contributing/ class=md-nav__link> Contributing </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Virtual Environments <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> Virtual Environments </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#virtual-environments-at-cern-with-acc-py class=md-nav__link> Virtual Environments at CERN with Acc-Py </a> </li> <li class=md-nav__item> <a href=#installing-a-standalone-acc-py class=md-nav__link> Installing a Standalone Acc-Py </a> </li> <li class=md-nav__item> <a href=#creating-virtual-environments-with-acc-py class=md-nav__link> Creating Virtual Environments with Acc-Py </a> </li> <li class=md-nav__item> <a href=#using-your-virtual-environment class=md-nav__link> Using Your Virtual Environment </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../howto_release/ class=md-nav__link> Releases </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4 type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4> The OMC GUIs <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="The OMC GUIs" data-md-level=1> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> The OMC GUIs </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../guis/about/ class=md-nav__link> The OMC GUIs </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_2 type=checkbox id=__nav_4_2> <label class=md-nav__link for=__nav_4_2> Beta-Beat GUI <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Beta-Beat GUI" data-md-level=2> <label class=md-nav__title for=__nav_4_2> <span class="md-nav__icon md-icon"></span> Beta-Beat GUI </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../guis/betabeat/gui/ class=md-nav__link> About </a> </li> <li class=md-nav__item> <a href=../../../guis/betabeat/beam_selection/ class=md-nav__link> Beam Selection </a> </li> <li class=md-nav__item> <a href=../../../guis/betabeat/bpm_panel/ class=md-nav__link> BPM Panel </a> </li> <li class=md-nav__item> <a href=../../../guis/betabeat/analysis_panel/ class=md-nav__link> Analysis Panel </a> </li> <li class=md-nav__item> <a href=../../../guis/betabeat/optics_panel/ class=md-nav__link> Optics Panel </a> </li> <li class=md-nav__item> <a href=../../../guis/betabeat/correction_panel/ class=md-nav__link> Correction Panel </a> </li> <li class=md-nav__item> <a href=../../../guis/betabeat/omc3/ class=md-nav__link> The omc3 branch </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_3 type=checkbox id=__nav_4_3> <label class=md-nav__link for=__nav_4_3> Kmod GUI <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Kmod GUI" data-md-level=2> <label class=md-nav__title for=__nav_4_3> <span class="md-nav__icon md-icon"></span> Kmod GUI </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../guis/kmod/gui/ class=md-nav__link> About </a> </li> <li class=md-nav__item> <a href=../../../guis/kmod/load_model/ class=md-nav__link> Loading a Model </a> </li> <li class=md-nav__item> <a href=../../../guis/kmod/full_ip_trim/ class=md-nav__link> Full IP Trim </a> </li> <li class=md-nav__item> <a href=../../../guis/kmod/individual_modulation/ class=md-nav__link> Magnet Modulation </a> </li> <li class=md-nav__item> <a href=../../../guis/kmod/trim_analysis/ class=md-nav__link> Analyzing Trim Data </a> </li> <li class=md-nav__item> <a href=../../../guis/kmod/autotrim/ class=md-nav__link> Using Auto Trim </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_4 type=checkbox id=__nav_4_4> <label class=md-nav__link for=__nav_4_4> Multiturn GUI <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Multiturn GUI" data-md-level=2> <label class=md-nav__title for=__nav_4_4> <span class="md-nav__icon md-icon"></span> Multiturn GUI </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../guis/multiturn/gui/ class=md-nav__link> About </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_5 type=checkbox id=__nav_4_5> <label class=md-nav__link for=__nav_4_5> Developing the GUIs <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Developing the GUIs" data-md-level=2> <label class=md-nav__title for=__nav_4_5> <span class="md-nav__icon md-icon"></span> Developing the GUIs </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../guis/developing/ide_install/ class=md-nav__link> IDE Setup </a> </li> <li class=md-nav__item> <a href=../../../guis/developing/releases/ class=md-nav__link> Releases </a> </li> <li class=md-nav__item> <a href=../../../guis/developing/kmod_special/ class=md-nav__link> KMod GUI hints </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5 type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5> Procedures <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Procedures data-md-level=1> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Procedures </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../procedures/info/ class=md-nav__link> Info </a> </li> <li class=md-nav__item> <a href=../../../procedures/kmod/ class=md-nav__link> K Modulation </a> </li> <li class=md-nav__item> <a href=../../../procedures/ampdet/ class=md-nav__link> Amplitude Detuning </a> </li> <li class=md-nav__item> <a href=../../../procedures/xing_scan/ class=md-nav__link> Crossing Angle Scan </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6 type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6> Resources <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Resources data-md-level=1> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Resources </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../resources/links/ class=md-nav__link> Useful Links </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6_2 type=checkbox id=__nav_6_2> <label class=md-nav__link for=__nav_6_2> How To's <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="How To's" data-md-level=2> <label class=md-nav__title for=__nav_6_2> <span class="md-nav__icon md-icon"></span> How To's </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../resources/howto/setup/ class=md-nav__link> Setup </a> </li> <li class=md-nav__item> <a href=../../../resources/howto/teleworking/ class=md-nav__link> Teleworking </a> </li> <li class=md-nav__item> <a href=../../../resources/howto/wiki/ class=md-nav__link> Editing Wiki </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../resources/publications/ class=md-nav__link> Publications </a> </li> <li class=md-nav__item> <a href=../../../resources/faqs/ class=md-nav__link> FAQ </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#virtual-environments-at-cern-with-acc-py class=md-nav__link> Virtual Environments at CERN with Acc-Py </a> </li> <li class=md-nav__item> <a href=#installing-a-standalone-acc-py class=md-nav__link> Installing a Standalone Acc-Py </a> </li> <li class=md-nav__item> <a href=#creating-virtual-environments-with-acc-py class=md-nav__link> Creating Virtual Environments with Acc-Py </a> </li> <li class=md-nav__item> <a href=#using-your-virtual-environment class=md-nav__link> Using Your Virtual Environment </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/pylhc/pylhc.github.io/edit/master/docs/packages/development/howto_venv.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg> </a> <h1 id=creating-and-using-python-virtual-environments>Creating and Using Python Virtual Environments<a class=headerlink href=#creating-and-using-python-virtual-environments title="Permanent link">&para;</a></h1> <p>Both for the development of Python codes as well as running programs, the creation of a Python virtual environment is recommended. Not only does it prevent version conflicts and ever-growing installations, it also allows separating production and test scenarios.</p> <div class="admonition tip"> <p class=admonition-title>Python Virtual Environments</p> <p>Don't know what a <strong>virtual environment</strong> is or what purpose it serves? Here is a good (but lengthy) <a href=https://realpython.com/python-virtual-environments-a-primer/ target=_blank>primer on virtual environments</a> by RealPython.</p> </div> <h2 id=virtual-environments-at-cern-with-acc-py>Virtual Environments at CERN with Acc-Py<a class=headerlink href=#virtual-environments-at-cern-with-acc-py title="Permanent link">&para;</a></h2> <p>The BE/CO <a class=cern_internal href=https://wikis.cern.ch/display/ACCPY/Accelerating+Python+Home target=_blank>Acc-Py</a> distribution at CERN (at <code>/acc/local/share/python/acc-py/base/pro</code>) allows one to create Python virtual environments immediately configured for internal CERN index and apps. <code>Acc-Py</code> is the official way to manage one's Python environments at CERN for the foreseeable future.</p> <p>However, because of how Python virtual environments work, the <code>python</code> executable in such a virtual environment is a symlink to the <code>Acc-Py</code> distribution's Python executable. This means any machine wanting to use this executable needs to also have read access to the location of the <code>Acc-Py</code> distribution in <code>/acc/</code>, which means having access to the Technical Network. For this reason, one might want to install a standalone <code>Acc-Py</code> distribution somewhere else, for instance on <code>afs</code>.</p> <div class="admonition info"> <p class=admonition-title>OMC Production Python</p> <p>The OMC team has a stable Python 3 production environment on <code>afs</code>. See <a href=../../about/ >this page</a> to find out about it.</p> </div> <p>The following section goes over installing a standalone <code>Acc-Py</code> distribution. If you already have one at the ready or plan to use the BE/CO <code>Acc-Py</code>, then skip ahead.</p> <h2 id=installing-a-standalone-acc-py>Installing a Standalone Acc-Py<a class=headerlink href=#installing-a-standalone-acc-py title="Permanent link">&para;</a></h2> <p>The <code>Acc-Py</code> wiki has <a href=https://wikis.cern.ch/display/ACCPY/Acc-Py+base#Acc-Pybase-Installingthebasedistributiononanothermachine target=_blank>a section</a> linking to installers one can download. From there download the appropriate file. The default distribution is recommended but installation is identical for other distributions (devel, rc). As of writing this walk-through, this corresponds to the <code>acc-py-2020.11-installer.sh</code> file. The installer itself is an executable to be called from the command line. Once the file is downloaded, run it at the command line (you might need to <code>chmod u+x</code> the file): <div class=highlight><pre><span></span><code>bash acc-py-2020.11-installer.sh
</code></pre></div></p> <p>The installation script will prompt you to enter the location in which to install the distribution. This does not have to be an existing directory, it can be created at install.</p> <div class="admonition tip"> <p class=admonition-title>Choosing the Installation Location</p> <p>At post-install, the script will try to create a folder <code>apps</code> where it will install built applications, including the <code>acc-py</code> command line tool. This <code>apps</code> folder is created two directories up from the given installation location, which is a place you might not necessarily have access to. Should this be the case, the installation will error. To make sure you do not run into permission issues, it is advised to feed a nested location to the installer.</p> <p>For instance, instead of providing <code>dist_location</code> to the installer provide <code>dist_location/base/2020.11</code>. This way the <code>apps</code> folder will be located at <code>dist_location/apps</code> to which you are guaranteed to have rights.</p> </div> <p>When prompted by the script, enter the desired installation location (here <code>dist_location/base/2020.11</code>) and hit enter, then wait for the installation script to finish. If you have installed anaconda or miniconda previously, the process and its output will feel familiar. You are now done with the installation step.</p> <h2 id=creating-virtual-environments-with-acc-py>Creating Virtual Environments with Acc-Py<a class=headerlink href=#creating-virtual-environments-with-acc-py title="Permanent link">&para;</a></h2> <p>To make the command line tools available in the current shell, <code>source</code> the <code>setup.sh</code> script in the installed <code>Acc-Py</code> distribution: <div class=highlight><pre><span></span><code><span class=nb>source</span> dist_location/base/2020.11/setup.sh
</code></pre></div></p> <p>You should see a confirmation message output that reads: <div class=highlight><pre><span></span><code>=&gt;  Acc-Py base 2020.11 is now active within this shell.
</code></pre></div></p> <p>You now have access to the <code>acc-py</code> command line tool, which you can verify by running <code>acc-py -h</code> and checking that you get the help command output. The command to create a virtual environment is based on the built-in <a href=https://docs.python.org/3/library/venv.html target=_blank>venv</a> module and should feel familiar if you know <code>venv</code>. To create a virtual environment, run: <div class=highlight><pre><span></span><code>acc-py venv /path/to/environment/
</code></pre></div></p> <p>This will create a virtual environment at <code>/path/to/environment/</code>. To activate this environment, run: <div class=highlight><pre><span></span><code><span class=nb>source</span> /path/to/environment/bin/activate
</code></pre></div></p> <p>You can confirm you are running the appropriate Python with <code>which python</code>, which should point to <code>/path/to/environment/bin/python</code>. You can then install packages in this environment with: <div class=highlight><pre><span></span><code>python -m pip install &lt;package-name&gt;
</code></pre></div></p> <p>Using <code>python -m pip</code> instead of simply <code>pip</code> guarantees that the right executable is called. Thanks to <code>Acc-Py</code>, everything is already set up to look into the CERN index, which is where many CERN apps and packages have to be installed from. Different ways to use <code>pip</code> for package installations are nicely explained in the <a href=https://pip.pypa.io/en/stable/reference/pip_install/#examples target=_blank>official documentation</a>.</p> <div class="admonition info"> <p class=admonition-title>Accessing the CERN Index</p> <p>Installing from the CERN index requires the executing machine to have access to the CERN <abbr title="CERN General Public Network">GPN</abbr> (General Public Network), or to <a href=../../../resources/howto/teleworking/#accessing-cern-internal-websites>be tunnelled into the <abbr title="CERN General Public Network">GPN</abbr></a>.</p> </div> <h2 id=using-your-virtual-environment>Using Your Virtual Environment<a class=headerlink href=#using-your-virtual-environment title="Permanent link">&para;</a></h2> <p>When your virtual environment has all the packages you wish, anyone with access to the distribution's <code>python</code> executable (because all environments will symlink to there) can use it. To use the environment's Python, one can either:</p> <ul> <li>First <code>source /path/to/environment/bin/activate</code> then call <code>python</code>.</li> <li>Call the full path to the python executable <code>/path/to/environment/bin/python</code> directly.</li> </ul> </article> </div> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <!-- Copyright and theme information --> <div class=md-footer-copyright> <div class=md-footer-copyright__highlight> Copyright &copy; 2020 PyLHC/OMC-Team </div> powered by <a href=https://www.mkdocs.org title=MkDocs>MkDocs</a> and <a href=https://squidfunk.github.io/mkdocs-material/ title="Material for MkDocs"> Material for MkDocs</a> </div> <div class=md-footer-social> <a href=https://github.com/pylhc target=_blank rel=noopener title="OMC's Organisation on Github" class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> <a href=mailto:OMC-team@cern.ch target=_blank rel=noopener title="Email the OMC team" class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><path d="M476 3.2 12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../..", "features": ["navigation.tabs", "navigation.instant"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../../assets/javascripts/workers/search.709b4209.min.js", "version": null}</script> <script src=../../../assets/javascripts/bundle.2b46852b.min.js></script> <script src=../../../javascripts/config.js></script> <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script> </body> </html>